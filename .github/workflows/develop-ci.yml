# workflow ì´ë¦„ 
name: Run Test

on: 
  # develop ë¸Œëœì¹˜ì— pushë‚˜ pull request ì´ë²ˆíŠ¸ê°€ ì¼ì–´ë‚¬ì„ ë•Œ í•´ë‹¹ workflowë¥¼ trigger
  push:
    branches: [ develop ]
  pull_request:
    branches: [ develop ]

# workflowì˜ ì‹¤í–‰ì€ í•˜ë‚˜ ì´ìƒì˜ jobìœ¼ë¡œ êµ¬ì„± ë¨
jobs:
  # ì´ workflow ëŠ” "build" ë¼ëŠ” single jobìœ¼ë¡œ ì‘ì—… ì œëª©ì„
  build-and-test:
    # jobì´ ì‹¤í–‰ë  í™˜ê²½ - ìµœì‹  mac os
    runs-on: macos-latest
    # Stepì€ jobì˜ ì„¸ë¶€ taskë“¤
    steps:
    # GitHub ì €ì¥ì†Œì˜ ì½”ë“œë¥¼ runner(ì‹¤í–‰ í™˜ê²½)ë¡œ ê°€ì ¸ì˜¤ëŠ” ì—­í• 
    - name: Checkout branch
      uses: actions/checkout@v4

    - name: Setup Xcode
      uses: maxim-lobanov/setup-xcode@v1
      with:
        xcode-version: latest-stable

    - name: Install CocoaPods ğŸ“
      run: brew install cocoapods

    - name: Install dependencies ğŸ“š
      run: pod install --repo-update

    - name: Start Xcode build ğŸ› 
      run: |
        xcodebuild \
            -project Visiom/Visiom.xcodeproj \
            -scheme YourApp \
            -destination 'platform=visionOS Simulator,name=Apple Vision Pro,OS=26.0' \
            clean build
    

    
    
